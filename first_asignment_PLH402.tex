\documentclass[10pt,a4paper]{article}

\usepackage{subfig}
\usepackage[demo]{graphicx}


\usepackage{./MGLassignment}
\newcommand{\sol}[1]{#1} % #1 for solution
\newcommand{\optional}[1]{#1} % #1 for showing optional

% Anomalies
%\setlength{\textheight}{26.5cm}

\title{\textbf{$1^o$ Σετ Ασκήσεων Θεωρίας Υπολογισμού \\  }}
\author{\textbf{Αντώνιος Ραφαήλ Ελληνιτάκης, 2017030118} \\
σε συνεργασία με: \\
Καποιος Καπου Καποτε}
\date{20 Μαρτίου 2021}


\begin{document}
	
\maketitle

\newpage
	
\opening
%{University}
{Πολυτεχνείο Κρήτης}
%{Dept}
{Σχολή Ηλεκτρονικών Μηχανικών και Μηχανικών Υπολογιστών}
%{Course}
{ΠΛΗ 402 -- Θεωρία Υπολογισμού -- 2021} % - \textlatin{Theory of Computation}}
%{Term}
{Διδάσκων: Μ. Γ. Λαγουδάκης}
%{Assignment}
{1η Σειρά Ασκήσεων}
%{Deadline}
{Επίλυση μέχρι: \textbf{04/04/2021}} \vspace{-5ex}

\sol{
\begin{center}
\huge\bf Λύσεις
\end{center}
\vspace*{-0,5cm}
}

\boldmark{Κανονικές Εκφράσεις}
\noindent

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%         Εκφώνηση 1                        %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\textbf{1 [15\%]}
Γράψτε Κανονικές Εκφράσεις για τις παρακάτω γλώσσες. \\
\textbf{(α)} $L = \big\{ w \in \{a,b\}^*:\text{ η $w$ περιέχει ακριβώς 1 εμφάνιση του $b$ και άρτιο αριθμό απο $a$}\big\}$. \\
\sol{
	\hspace*{0.5cm} {\em \textbf{Απάντηση:} }
	Η ζητούμενη κανονική έκφραση είναι η παρακάτω:
	\\
	$$ ((aa)^*b(aa)^*) \cup (aba(aa)^*)  $$ \\
	Το πρώτο καλύπτει όλα τα ενδεχόμενα, εκτός από αυτό του να είναι το $b$ ο δεύτερος χαρακτήρας, το οποίο καλύπτεται απ΄0 την δεύτερη περίπτωση. \\
	%your answer here
}
\textbf{(β)} $L = \big\{ w \in \{a,b\}^*:\text{ η $w$ αρχίζει και τελειώνει με διαφορετικό σύμβολο, και το πρώτο έχει άρτιο πλήθος.}\big\}$. \\
\sol{
	\hspace*{0.5cm} {\em \textbf{Απάντηση:} }
	\\
	Χωρίζουμε το πρόβλημα σε δύο περιπτώσεις. Αυτή που η συμβολοσειρά ξεκινάει απο $a$ και αυτή που ξεκινάει απο $b$.
	\begin{itemize}
		\item Για συμβολοσειρά που ξεκινάει απο το $a$(και άρα τελειώνει στο $b$): 
		$$ a(ab^*a \cup b)^*b  $$
		\item Για συμβολοσειρά που ξεκινάει απο το $b$(και άρα τελειώνει στο $a$): 
		$$ b(ba^*b \cup a)^*a  $$
		\item Για να συγχωνέψουμε τους δύο περιορισμούς, χρησιμοποιούμε την ένωση:
		$$ a(ab^*a \cup b)^*b \cup b(ba^*b \cup a)^*a  $$
	\end{itemize}
	%your answer here
}
\textbf{(γ)} $L = \big\{ w \in \{a,b\}^*:\text{ το πλήθος των $b$ στην $w$ είναι } 3k+2 (k \geq 2)\big\}$. \\
\sol{
	\hspace*{0.5cm} {\em \textbf{Απάντηση:} }
	\\ 
	Χωρίζουμε το πρόβλημα σε δύο κομμάτια: ένα είναι να έχω $3k$ $b$ μή συνεχόμενα, και το άλλο είναι να έχω επιπλέον δύο $b$ επίσης μη συνεχόμενα.
	\begin{itemize}
		\item Για το πρώτο μέρος, έχω:
		$$a^*ba^+ba^+ba^*$$
		\item Για το δεύτερο:
		$$ba^+ba^*$$
	\end{itemize}
	
	Τελικά καταλήγω με την παρακάτω υλοποίηση, με \en Kleene Star \gr σε όλη την πρώτη πρόταση, καθώς μπορεί να χρησιμοποιηθεί όσες φορές θέλουμε, και με θετική ολοκλήρωση στο τελευταίο $a$ καθώς είναι απαραίτητο για να μας διαχωρίζει απο το προτελευταίο $b$.
	$$(a^*ba^+ba^+ba^+)^*ba^+ba^*$$
}


\boldmark{Πεπερασμένα Αυτόματα}
\noindent
\textbf{2 [20\%]}
Κατασκευάστε πεπερασμένα αυτόματα (με μονοψήφιο αριθμό καταστάσεων) για τις παρακάτω γλώσσες:
\\
\textbf{(α)} $L = \big\{ w \in {a,b,c}^*: \text{ οι εμφανήσεις του $b$ είναι άρτιες και του $c$ περιττές} \big\}$\\
\sol{
	\hspace*{0.5cm} {\em \textbf{Απάντηση:} }
	Για να ξεκινήσω την λύση, απαριθμώ τις καταστάσεις που με ενδιαφέρουν: \\
	\begin{center}
	\begin{tabular}{|c|c|c|}
		\hline
		\textbf{$b$ περιττό} & \textbf{$c$ περιττό} & $a$ \en Dont Care \gr \\
		\hline
		\textbf{$b$ περιττό} & \textbf{$c$ άρτιο} & $a$ \en Dont Care \gr \\
		\hline
		\textbf{$b$ άρτιο} &  \textbf{$c$ περιττό} & $a$ \en Dont Care \gr  \\
		\hline
		\textbf{$b$ άρτιο} & \textbf{$c$ άρτιο} & $a$ \en Dont Care \gr  \\
		\hline
		... & ... &  ...  \\
		\hline
	\end{tabular}
	\end{center}
	
	Χωρίζω τα παραπάνω σε 4 διακριτές καταστάσεις, \textbf{\en ObEc=$q_1$(odd b even c), EbEc=$q_0$,EbOc=$q_3$ \gr και \en ObOc=$q_2$\gr, με τελική κατάσταση το \en EbOc \gr.}
	\\
	\begin{center}
	\begin{tikzpicture}[->,>=stealth',shorten >=0pt,node distance=2cm,auto]
		\en
		\node[state,initial] (EbEc)				{q$0$};  % this is on the top left, and it is a starting state
		\node[state] (ObEc) [below of = EbEc] {q$1$};  % define where the other nodes will be presented
		\node[state,] (ObOc) [right of = ObEc] {q$2$};  % accepting means final state.
		\node[state,accepting] (EbOc) [above of = ObOc] {q$3$};
		
		%\foreach \from/\to in {a/b, a/c, b/c}
		% structure of an arrow:
		%\draw[->] (from_node) [path_of_the_arrow] [edge] [node {text}] (to_node)
		% Draw the arrows from the EbEc node:
		\draw[->] (EbEc) [bend right=30] edge node {$c$}  (EbOc); 
		\draw[->] (EbEc) [loop above] edge node {$a$}  (EbEc);
		\draw[->] (EbEc) [bend right=30] edge node {$b$}  (ObEc);
		% Draw the arrows from the ObEc node:
		\draw[->] (ObEc) [loop below] edge node {$a$}  (ObEc);
		\draw[->] (ObEc) [bend right=30] edge node {$b$}  (EbEc);
		\draw[->] (ObEc) [bend right=30] edge node {$c$}  (ObOc);
		% Draw the arrows from the EbOc node:
		\draw[->] (EbOc) [loop above] edge node {$a$}  (EbOc);
		\draw[->] (EbOc) [bend right=30] edge node {$b$}  (ObOc);
		\draw[->] (EbOc) [bend right=30] edge node {$c$}  (EbEc);
		% Draw the arrows from the ObOc node:
		\draw[->] (ObOc) [loop below] edge node {$a$}  (ObOc);
		\draw[->] (ObOc) [bend right=30] edge node {$b$}  (EbOc);
		\draw[->] (ObOc) [bend right=30] edge node {$c$}  (ObEc);

	\end{tikzpicture}
	\end{center}
}
\textbf{(β)} $L = \big\{ w \in \{a,b\}^*:\text{ το πλήθος των $a$ στην  είναι άρτιο, και το πλήθος των $b$ είναι } 3m+2 (m \geq 2)\big\}$. \\
\sol{
	\hspace*{0.5cm} {\em \textbf{Απάντηση:} }
	Χωρίζοντας την εκφώνηση σε δύο μικρότερα προβλήματα, μένουμε με την ανάγκη για ένα αυτόματο που θα αναγνωρίζει συμβολοσειρές με άρτιο αριθμό από $a$ μέσα του, και ένα που θα αναγνωρίζει $3m+2$ πλήθος $b$ σε κάποια συμβολοσειρά.Το ένα χρειάζεται 2 καταστάσεις και το άλλο 3 αντίστοιχα. Το τελικό μας αυτόματο θα έχει $2*3$ καταστάσεις, μία για κάθε συνδυασμό καταστάσεων. Παρατηρούμε αυτήν την ιδιότητα και στο γεγονός ότι ο γράφος μας είναι συμμετρικός στον οριζόντιο άξονα.
	\\
	\begin{center}
		\begin{tikzpicture}[->,>=stealth',shorten >=0pt,node distance=2cm,auto]
			\en
			\node[state,initial] (q1)				{q$1$};  % this is on the top left, and it is a starting state
			\node[state] (q2) [right of = q1] {q$2$};  % define where the other nodes will be presented
			\node[state,accepting] (q3) [right of = q2] {q$3$};  % accepting means final state.
			\node[state] (q4) [below of = q1] {q$4$};
			\node[state] (q5) [below of = q2] {q$5$};
			\node[state] (q6) [below of = q3] {q$6$};
			
			
			\draw[->] (q1) [bend left=10] edge node {$b$}  (q2);
			\draw[->] (q1) [bend left=30] edge node {$a$}  (q4); 
			
			\draw[->] (q2) [bend left=10] edge node {$b$}  (q3);
			\draw[->] (q2) [bend left=30] edge node {$a$}  (q5);
			
			\draw[->] (q3) [bend right=60] edge node {$b$}  (q1);
			\draw[->] (q3) [bend left=30] edge node {$a$}  (q6);
			% notice the mirror pattern above and below this point.
			\draw[->] (q4) [bend right=10] edge node {$b$}  (q5);
			\draw[->] (q4) [bend left=30] edge node {$a$}  (q1);
			
			\draw[->] (q5) [bend right=10] edge node {$b$}  (q6);
			\draw[->] (q5) [bend left=30] edge node {$a$}  (q2);
			
			\draw[->] (q6) [bend left=40] edge node {$b$}  (q4);
			\draw[->] (q6) [bend left=30] edge node {$a$}  (q3);

			
		\end{tikzpicture}
	\end{center}
}
\newpage
\noindent
\textbf{(γ)} $L = \big\{ w \in \{a,b\}^*:\text{η $w$ αρχίζει και τελειώνει με το ίδιο γραμμα, και ο αριθμός των $a$ είναι άρτιος}\big\}$. \\
\sol{
	\hspace*{0.5cm} {\em \textbf{Απάντηση:} }
	Το κύριο "πρόβλημα" στην κατασκευή του αυτομάτου αυτού, είναι η επιλογή μεταξύ χαρακτήρων για να δούμε με ποιον χαρακτήρα θέλουμε να τερματίσει το αυτόματο. Αυτό μας ωθεί στο να χρησιμοποιήσουμε μία κατάσταση αρχική στην οποία δεν θα επιστρέψουμε ποτέ, και απλά θα επιλέγει ανάμεσα στα δύο σενάρια: αρχίζει και τελειώνει με $a$, ή αντίστοιχα με $b$.
	
	\begin{center}
		\begin{tikzpicture}[->,>=stealth',shorten >=0pt,node distance=2cm,auto]
			\en
			\node[state,initial] (q1)				{$q_1$};  % this is on the top left, and it is a starting state
			\node[state, accepting] (q2) [right of = q1] {$q_2$};  % define where the other nodes will be presented
			\node[state] (q3) [right of = q2] {$q_3$};  % accepting means final state.
			\node[state] (q4) [below of = q2] {$q_4$};
			\node[state] (q5) [below of = q3] {$q_5$};
			\node[state,accepting] (q6) [below of = q4] {$q_6$};
			
			\draw[->] (q1) [bend right=30] edge node {$a$}  (q2);
			\draw[->] (q1) [bend right=30] edge node {$b$}  (q4);  
			
			\draw[->] (q2) [bend right=30] edge node {$a$}  (q3);
			\draw[->] (q2) [loop above] edge node {$b$}  (q2); 
			
			\draw[->] (q3) [bend right=30] edge node {$a$}  (q2);
			\draw[->] (q3) [loop above] edge node {$b$}  (q3); 

			\draw[->] (q4) [bend right=30] edge node {$a$}  (q5);
			\draw[->] (q4) [bend right=30] edge node {$b$}  (q6);
			
			\draw[->] (q5) [bend right=30] edge node {$a$}  (q4);
			\draw[->] (q5) [loop above] edge node {$b$}  (q5);
			
			\draw[->] (q6) [bend right=30] edge node {$a$}  (q5);
			\draw[->] (q6) [loop below] edge node {$b$}  (q6);
			
		\end{tikzpicture}
	\end{center}
}

\boldmark{Μή ντετερμινισμός και κανονικότητα αυτομάτων}
\noindent
\textbf{3 [25\%]} Έστω μη ντετερμινιστικό αυτόματο Μ που εικονίζεται παρακάτω:\\

	\begin{center}
		\begin{tikzpicture}[->,>=stealth',shorten >=0pt,node distance=2cm,auto]
			\en
			\node[state,initial] (q1)				{$q_1$};  % this is on the top left, and it is a starting state
			\node[state] (q2) [right of = q3] {$q_2$};  % define where the other nodes will be presented
			\node[state] (q3) [right of = q1] {$q_3$};  % accepting means final state.
			\node[state, accepting] (q4) [right of = q2] {$q_4$};
			\node[state] (q5) [right of = q4] {$q_5$};
			
			
			\draw[->] (q1) [bend right=50] edge node {$a$,$e$}  (q3);
			
			\draw[->] (q3) [bend right=30] edge node {$b$}  (q1);
			\draw[->] (q3) [bend right=30] edge node {$a$}  (q2);
			
			\draw[->] (q2) [bend right=30] edge node {$e$}  (q1);
			\draw[->] (q2) [bend right=30] edge node {$b$}  (q4);
			
			\draw[->] (q4) [bend right=30] edge node {$b$}  (q5);
			
			\draw[->] (q5) [bend right=50] edge node {$e$}  (q2);
			\draw[->] (q5) [loop above] edge node {$a$}  (q5);
			
			
		\end{tikzpicture}
	\end{center}

	\textbf{(α)} Κατασκευάστε αναλυτικά ένα ισοδύναμο ντετερμινιστικό αυτόματο Μ'. \\
	\sol{
		\hspace*{0.5cm} {\em \textbf{Απάντηση:} }
		Ξεκινάμε υπολογίζοντας τα $E(q)$, δηλαδή το σύνολο των καταστάσεων που μπορεί να "συνυπάρχουν" "ταυτόχρονα" με μία κατάσταση, λόγω των κενών μεταβάσεων.
		$$E(q_1) = \{q_1,q_3\}$$
		$$E(q_2) = \{q_2,q_1,q_3\}$$
		$$E(q_3) = \{q_3\}$$
		$$E(q_4) = \{q_4\}$$
		$$E(q_5) = \{q_5,q_2,q_1,q_3\}$$
		
		Καθώς η αρχική κατάσταση στο  μη ντετερμινιστικό αυτόματο είναι η $q_1$, στο αντίστοιχο ισοδύναμο ντετερμινιστικό θα είναι η σύνθετη κατάσταση $E(q_1)=\{q_1,q_3\}$.
		
		
		Για να μετατρέψουμε το μη ντετερμινιστικό σε ντετερμινιστικό αυτόματο, χρειαζόμαστε έναν κατάλογο απο τις "συνδέσεις" του κάθε κόμβου/κατάστασης. 
		Ξεκινάμε ελέγχοντας τις διαδρομές απο την κάθε κατάσταση της $E(q_1)$, δηλαδή της πρώτης μας σύνθετης κατάστασης, και συνεχίζουμε ομαδοποιώντας διαδρομές τις οποίες εντάσσουμε σε σύνθετες καταστάσεις του τελικού, ντετερμινιστικού αυτομάτου :
		\newpage
		\begin{itemize}  % use \xrightarrow, the other commands are noto gonna produce an arrow in the center of the line.
			\item $q_1  \xrightarrow{a}  q_3$,\quad \quad $q_1  \xrightarrow{_b}  X  $ 
			\item $q_2  \xrightarrow{a}  X$, \quad \quad $q_2  \xrightarrow{_b}  q_4  $ 
			\item $q_3  \xrightarrow{a}  q_2$,\quad \quad $q_3  \xrightarrow{_b}  q_1  $ 
			\item $q_4  \xrightarrow{a}  X$,\quad \quad $q_4  \xrightarrow{_b}  q_5  $ 
			\item $q_5  \xrightarrow{a}  q_5$,\quad \quad $q_5  \xrightarrow{_b}  X  $ 
		\end{itemize}
		H αρχική κατάσταση του \en NDFS \gr είναι η $q_1$, οπότε ξεκινάμε οριζοντας έναν κόμβο για την $E(q_1)$, που είναι η αρχική κατάσταση του \en DFS \gr μας:
		\begin{center}
			\begin{tikzpicture}[->,>=stealth',shorten >=0pt,node distance=2cm,auto]
				\en
				\node[state,initial] (q1)				{$q_1,q_3$};  % this is on the top 
				%\draw[->] (q1) [bend right=50] edge node {$a$,$e$}  (q3);
			\end{tikzpicture}
		\end{center}
	
		\textbf{Γενικός κανόνας:} Αφού ορίσουμε την αρχική κατάσταση όπως παραπάνω, ελέγχουμε για την κάθε σύνθετη κατάσταση που δείχνουν τα μέλη της για ένα συγκεκριμένο σύμβολο του αλφαβήτου μας, και με την ένωση αυτών είτε δημιουργούμε νέες σύνθετες καταστάσεις, είτε δείχνουμε σε ήδη υπάρχουσες σύνθετες. Αυτό γίνεται αναδρομικά, δηλαδή μέχρι να μην μου δημιουργούνται νέες καταστάσεις και να έχω εξαντλήσει όλες τις επιλογές μου.
		
		
		Στην παραπάνω λίστα μεταβάσεων, έχουμε οτι $q_1  \xrightarrow{a}  q_3$, $q_3  \xrightarrow{_a}  q_2 $, και  $q_1  \xrightarrow{_b}  X$, $q_3  \xrightarrow{_b}  q_1$, άρα ορίζουμε μία νέα κατάσταση στην οποία \textbf{μεταβαίνουμε μέσω $a$ και εμπεριέχει τις $\{q_3,q_2\}$}, \textbf{και με $b$ σε μία $\{q_1\}$}(προσοχή: είναι και αυτή σύνθετη κατάσταση, παρόλο που αποτελείται από μόνο μία).
		\begin{center}
			\begin{tikzpicture}[->,>=stealth',shorten >=0pt,node distance=2cm,auto]
				\en
				\node[state,initial] (q1)	{$q_1,q_3$}; 
				\node[state] (q2) [right of = q1]	{$q_2,q_3$};
				\node[state] (q3) [below of = q2]	{$q_1$};
				\draw[->] (q1) [bend left=20] edge node {$a$}  (q2);
				\draw[->] (q1) [bend right=20] edge node {$b$}  (q3);

			\end{tikzpicture}
		\end{center}
		Εξετάζοντας τις επιλογές της κατάστασης $\{q_2,q_3\}$ για $a$, έχω οτι δείχνει στο $\emptyset \cup \{q_2\} = \{q_2\}$ ενώ για $b$ έχω $\{q_4,q_1\}$. Για την κατάσταση $\{q_1\}$, έχω οτι για $a$ πάω στο $\{q_3\}$ και για $b$ πουθενά.
		\begin{center}
			\begin{tikzpicture}[->,>=stealth',shorten >=0pt,node distance=2cm,auto]
				\en
				\node[state,initial] (q1)	{$q_1,q_3$}; 
				\node[state] (q2) [right of = q1]	{$q_2,q_3$};
				\node[state] (q3) [below of = q2]	{$q_1$};
				\node[state] (q4) [right of = q2]	{$q_2$};
				\node[state] (q5) [right of = q3]	{$q_1,q_4$};
				\node[state] (q6) [left of = q3]	{$q_3$};
				
				\draw[->] (q1) [bend left=20] edge node {$a$}  (q2);
				\draw[->] (q1) [bend right=20] edge node {$b$}  (q3);
				
				\draw[->] (q2) [bend left=20] edge node {$a$}  (q4);
				\draw[->] (q2) [bend right=20] edge node {$b$}  (q5);
				
				\draw[->] (q3) [bend left=20] edge node {$a$}  (q6);
				
			\end{tikzpicture}
		\end{center}
	Συνεχίζω ακολουθώντας τις διαδρομές για τις 3 νέες σύνθετες καταστάσεις μου. Συγκεκριμένα(γραμμένα σε πιο σαφή έκφραση, αφού κατανοήσαμε τα παραπάνω), έχω: 
	$$\{q_3\} \xrightarrow{a} \{q_2\}\text{ (υπάρχει)}$$
	$$\{q_3\} \xrightarrow{b} \{q_1\}\text{ (υπάρχει)}$$
	
	$$\{q_2\} \xrightarrow{a} \emptyset = \{\}\text{ (δημιουργώ \en drain \gr εδω μάλλον)}$$
	$$\{q_2\} \xrightarrow{b} \{q_4\}\text{ (δεν υπάρχει, δημιουργώ νέα)}$$
	
	$$\{q_1,q_4\} \xrightarrow{a} \{q_3\} \cup \emptyset = \{q_3\} \text{ (υπάρχει)}$$
	$$\{q_1,q_4\} \xrightarrow{b} \emptyset \cup \{q_5\} = \{q_5\} \text{ (δεν υπάρχει, δημιουργώ νέα)}$$
	Άρα καταλήξαμε σε 3 νέες συνδέσεις και 2(ή 3;) νέες καταστάσεις.
	\begin{center}
		\begin{tikzpicture}[->,>=stealth',shorten >=0pt,node distance=2cm,auto]
			\en
			\node[state,initial] (q1)	{$q_1,q_3$}; 
			\node[state] (q2) [right of = q1]	{$q_2,q_3$};
			\node[state] (q3) [below of = q2]	{$q_1$};
			\node[state] (q4) [right of = q2]	{$q_2$};
			\node[state] (q5) [right of = q3]	{$q_1,q_4$};
			\node[state] (q6) [below of = q5]	{$q_3$};
			\node[state] (q7) [right of = q6]	{$q_5$};
			\node[state] (q8) [right of = q6]	{$q_4$};
			
			\draw[->] (q1) [bend left=20] edge node {$a$}  (q2);
			\draw[->] (q1) [bend right=20] edge node {$b$}  (q3);
			
			\draw[->] (q2) [bend left=20] edge node {$a$}  (q4);
			\draw[->] (q2) [bend right=20] edge node {$b$}  (q5);
			
			\draw[->] (q3) [bend left=20] edge node {$a$}  (q6);
			
			%\draw[->] (q4) [bend right=20] edge node {$a$}  (q6); Maybe Drain here
			\draw[->] (q4) [bend left=20] edge node {$b$}  (q7);
			
			\draw[->] (q5) [bend right=20] edge node {$a$}  (q6);
			\draw[->] (q5) [bend left=20] edge node {$b$}  (q7);
			
			\draw[->] (q6) [bend right=50] edge node {$a$}  (q4);
			\draw[->] (q6) [bend left=20] edge node {$b$}  (q3);
			
			
		\end{tikzpicture}
	\end{center}
		
		
			
	}

\end{document}
